#title Archive for July, 2022

#p0
#date 23年7月08日 周六 22:17

## OTP 研究

学习了一下 OTP 这个东西，比如用的是 [LuaOTP](https://github.com/OTPLibraries/LuaOTP)。

区分为 OTP、TOTP、HOTP 这三种，OTP 英文展开为 One Time Password，是服务端对客户端的一次性密码，属于双因素验证的范畴。

TOTP 这里，公式中的一个参与计算的因子是时间，比如这个时间因子，可以 30 秒更新一次，那这个一次性密码，也是 30 秒更新一次。

HOTP 有一个 counter 的概念，每次用过后都会变化，每次都生成新的，对应的是该一次性密码的使用次数。

上述 LuaOTP 支持 Google Authenticator，浏览器 JS 这边用的是[菜鸟教程](https://www.runoob.com/w3cnote/javascript-qrcodejs-library.html)介绍的[qrcodejs](https://github.com/davidshimjs/qrcodejs)，用来生成二维码图片。

当然也可以不生成图片，而是导出字符串，Google Authenticator 也同样支持字符串导入。

之前不大理解这一套，搞了一下，发现也没有那么难。

#category Programming